<link rel="stylesheet" href="{{ ASSET_SERVER_URL }}mdb/plugins/css/transfer.min.css">

<style>
    .transfer-container {
        box-shadow: none;
    }
</style>

<div id="roomFilterDialog" title="Romfiltrering pÃ¥ lokasjon {{location}}" class="bg-white">
    <div id="transfer-basic" class="transfer shadow-0"></div>

    <div class="clearfix">
        <div class="float-end">
            <button onclick="roomFilterDialog__notifyChange()">
                Oppdater filter
            </button>
        </div>
    </div>


</div>

<script>
    $(document).ready(function () {
        // if (instanceTransfer !== undefined) {
        //     instanceTransfer.dispose();
        // }

        let transferEl = document.getElementById('transfer-basic');
        let data1 = [
            {% for room in location.rooms.all %}
                { data: '{{room}}' },
            {% endfor %}
        ];

        let instanceTransfer = new Transfer(transferEl, {
            dataTarget: data1,
            search:true,
            selectAll: true,
            titleSource: "Skal ikke vises",
            titleTarget: "Skal vises",
        });
    });

    function roomFilterDialog__notifyChange() {
        console.log("test")
    }

</script>