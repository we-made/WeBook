{% extends "arrangement/meta_base.html" %}
{% load static i18n %}

<<<<<<< HEAD
{% block noheader %}

{% endblock %}

{% block beneath_breadcrumbs_block %}

{% endblock %}

{% block content %}

    {% include 'arrangement/planner/plan_arrangement.html' %}

=======
{% block beneath_breadcrumbs_block %}
    <a class="btn btn-success"
        href="{% url 'arrangement:arrangement_edit' object.slug %}">
        <i class="fa fa-edit"></i>&nbsp; {% trans "Edit" %}
    </a>
    <a class="btn btn-danger"
        href="{% url 'arrangement:arrangement_delete' object.slug %}">
        <i class="fa fa-trash"></i>&nbsp; {% trans "Delete" %}
    </a>

    <a class="btn btn-success float-end">
        {% trans "Requisitioning" %}
    </a>
{% endblock %}

{% block content %}
    <ul class="nav  border-bottom text-white nav-tabs mt-0 mb-3" id="myTab0" role="tablist">
        <li class="nav-item">
            <button class="nav-link text-muted fw-bold" disabled>
                <i class="fas fa-ellipsis-v"></i>
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button
                class="nav-link active fw-bold"
                id="home-tab0"
                data-mdb-toggle="tab"
                data-mdb-target="#home0"
                type="button"
                role="tab"
                aria-controls="home"
                aria-selected="true"
            >
                <i class="fa fa-info"></i>&nbsp; {% trans "General" %}
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button
                class="nav-link fw-bold"
                id="home-tab3"
                data-mdb-toggle="tab"
                data-mdb-target="#home3"
                type="button"
                role="tab"
                aria-controls="home"
                aria-selected="true">
                <i class="fa fa-users"></i>&nbsp; {% trans "Owners" %}
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button
                class="nav-link fw-bold"
                id="home-tab1"
                data-mdb-toggle="tab"
                data-mdb-target="#home1"
                type="button"
                role="tab"
                aria-controls="home"
                aria-selected="true">
                <i class="fa fa-calendar"></i>&nbsp; {% trans "Calendar" %}
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button
                class="nav-link fw-bold"
                id="home-tab2"
                data-mdb-toggle="tab"
                data-mdb-target="#home2"
                type="button"
                role="tab"
                aria-controls="home"
                aria-selected="true">
                <i class="fa fa-comment"></i>&nbsp; {% trans "Notes" %}
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button
                class="nav-link fw-bold"
                id="home-tab3"
                data-mdb-toggle="tab"
                data-mdb-target="#home3"
                type="button"
                role="tab"
                aria-controls="home"
                aria-selected="true">
                <i class="fa fa-object-group"></i>&nbsp; 
                    {% trans "System Messages" %}
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button
                class="nav-link fw-bold"
                id="home-tab4"
                data-mdb-toggle="tab"
                data-mdb-target="#home4"
                type="button"
                role="tab"
                aria-controls="home"
                aria-selected="true">
                <i class="fa fa-receipt"></i>&nbsp; 
                    {% trans "Resource Confirmation Receipts" %}
            </button>
        </li>
    </ul>
    
    <div class="tab-content" id="myTabContent0">

        <!-- TAB: Home -->
        <div 
            class="tab-pane fade show active"
            id="home0"
            role="tabpanel"
            aria-labelledby="home-tab0">


            <div class="row  mb-3 mt-5">
                <div class="col-4 text-center">
                    <div class=" p-4">
                        <h1><i class="fa fa-suitcase"></i></h1>
                        <h5 class="mb-2 text-muted text-uppercase"><strong class="h4">N</strong><small>AME</small></h5>
                        <h4 class="d-inline">{{ object.name }}</h4> 
                        <h6><a href="#" class="btn btn-link text-dark disabled"> {{ object.starts }} - {{Â object.ends }}</a></h6>
                    </div>
                </div>

                <div class="col-4 text-center">
                    <div class=" p-4">
                        <h1><i class="fa fa-user"></i></h1>
                        <h5 class="mb-2 text-muted text-uppercase"><strong class="h4">R</strong><small>esponsible</small></h5>
                        <h4 class="d-inline">{{ object.responsible.full_name }}</h4> 
                        <h6><a href="#" class=" btn btn-link">{% trans "GO TO" %} <i class="fa fa-arrow-right"></i></a></h6>
                    </div>
                </div>

                <div class="col-4 text-center">
                    <div class="p-4">
                        <h1><i class="fa fa-object-group"></i></h1>
                        <h5 class="mb-2 text-muted text-uppercase"><strong class="h4">T</strong><small>ARGET</small> <strong class="h4">A</strong><small>UDIENCE</small></h5>
                        <h4 class="d-inline">{{ object.audience.name }}</h4> 
                        <h6><a href="{% url 'arrangement:audience_detail' object.audience.slug %}"" class="btn btn-link">{% trans "GO TO" %} <i class="fa fa-arrow-right"></i></a></h6>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-3">

                </div>
                <div class="col-3">

                </div>
            </div>

            <div class="clearfix">
                <ul class="list-inline float-end">
                    <li class="list-inline-item">
                        <a href="#" class="fw-bold me-4"
                            data-mdb-toggle="modal"
                            data-mdb-target="#colorLegendModal">
                            <i class="fa fa-info-circle"></i>&nbsp;{% trans "Color Legend" %}
                        </a>
                    </li>
                    <li class="list-inline-item">
                        <a href="#" class="fw-bold"
                            data-mdb-toggle="modal"
                            data-mdb-target="#iconLegendModal">
                            <i class="fa fa-info-circle"></i>&nbsp;{% trans "Icon Legend" %}
                        </a>
                    </li>
                </ul>
            </div>

            <div id="visualization" class="mb-4"></div>  

            <h4 class="mt-5">{% trans "Status in short" %}</h4>

            <div>
                <i class="fa fa-receipt"></i>
                {% trans "Resource Attendance Confirmation (%)" %}
            </div>
            <div class="progress col-6" style="height:40px">
                <div
                  class="progress-bar bg-success"
                  role="progressbar"
                  style="width: 25%;"
                  aria-valuenow="25"
                  aria-valuemin="0"
                  aria-valuemax="100">
                     <strong>(25%)</strong>
                    
                </div>
                <div class="full-width me-4" style="width: 100%; padding-top: 10px">
                    <a href="#" class="float-end">
                        <i class="fas fa-question-circle"></i>
                        <strong>{% trans "Who's missing?" %}</strong>
                    </a>
                </div>
            </div>   

            <div class="mt-2">
                <i class="fa fa-check"></i>
                {% trans "Progress" %}
            </div>
            <div class="progress col-6 mb-4" style="height:40px">
                <div
                  class="progress-bar bg-info"
                  role="progressbar"
                  style="width: 25%;"
                  aria-valuenow="25"
                  aria-valuemin="0"
                  aria-valuemax="100">
                     <strong>(25%)</strong>
                    
                </div>
                <div class="full-width me-4" style="width: 100%; padding-top: 10px">
                    <a href="#" class="float-end">
                        <i class="fas fa-question-circle"></i>
                        <strong>{% trans "Where are we?" %}</strong>
                    </a>
                </div>
            </div>   

            <br>



        </div>

        <!-- TAB: Calendar -->
        <div
            class="tab-pane fade"
            id="home1"
            role="tabpanel"
            aria-labelledby="home-tab1">

            <div id="arrangement_calendar"></div>

        </div>

        <!-- TAB: Notes -->
        <div class="tab-pane fade"
             id="home2"
             role="tabpanel"
             aria-labelledby="home-tab2">
            
             <h4>{% trans "Notes" %}</h4>

        </div>

        <div class="tab-pane fade"
             id="home3"
             role="tabpanel"
             aria-labelledby="home-tab3">
        
             
             <h4>{% trans "People" %}</h4>
             <div class="col-lg-3 col-sm-12 col-md-12 border border-1 p-4 mb-3">
                <h5 class="">{% trans "Responsible" %}</h5>
                <h6>{{ object.responsible.full_name }}</h6>
                <button class="btn btn-danger">{% trans "Change Responsible" %}</button>
            </div>
             <p>
                 {% trans "Here you can administer the people that are allowed to edit and work on this arrangement. People added here will automatically be given the watcher status, and will receive notifications, as well as be able to view and make changes according to the authorization level given to them by the arrangement responsible or an administrator." %}
             </p>
             <p>
                 {% trans "Note that the responsible is considered the 'owner' of the event. Only the responsible (and administrators) can authorize new people to access and edit this arrangement." %}
             </p>
            

             <div class="row">
                 <div class="col-lg-6 col-sm-12 col-md-12">
                    <table class="table table-striped table-bordered">
                        <thead>
                            <tr>
                                <th colspan="3">
                                    <h5 class="d-inline" style="line-height: 36px;">{% trans "People" %}</h5>
                                    <button class="btn btn-link float-end">
                                        <i class="fa fa-user-plus"></i>
                                        {% trans "Add person to this arrangement" %}
                                    </button>
                                </th>
                            </tr>
                            <tr>
                                <th class="h6">{% trans "Person" %}</th>
                                <th class="h6">{% trans "Authorization Level" %}</th>
                                <th class="h6">{% trans "Options" %}</th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr>
                                <td>{{ object.responsible.full_name }}</td>
                                <td>
                                    <span class="badge badge-secondary">
                                        {% trans "Responsible" %}
                                    </span>
                                </td>
                                <td>
                                    <button class="btn btn-block btn-sm btn-danger mt-1">
                                        {% trans "Change" %}
                                    </button>
                                </td>
                            </tr>

                            <tr>
                                <td>Ola Nordmann</td>
                                <td>
                                    <span class="badge badge-success">
                                        {% trans "Edit" %}
                                    </span>
                                    <span class="badge badge-info">
                                        {% trans "View" %}
                                    </span>
                                </td>
                                <td>
                                    <button class="btn btn-block btn-sm btn-danger mt-1">
                                        {% trans "Change" %}
                                    </button>
                                    <button class="btn btn-block btn-sm btn-success mt-1">
                                        {% trans "Authorizations" %}
                                    </button>
                                </td>

                            </tr>
                        </tbody>
                    </table>

                 </div>
             </div>
        </div>

        <div class="tab-pane fade"
            id="home4"
            role="tabpanel"
            aria-labelledby="home-tab4">
        
            <h4>{% trans "Timeline" %}</h4>
            
        </div>
    </div>


    <!-- Modal -->
<div
    class="modal fade"
    id="colorLegendModal"
    tabindex="-1"
    aria-labelledby="colorLegendModal"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="colorLegendModalLabel">
                <i class="fa fa-info-circle"></i>
                {% trans "Color Legend" %}
            </h5>
            <button
                type="button"
                class="btn-close"
                data-mdb-dismiss="modal"
                aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <table class="table table-sm table-bordered">
                    <thead>
                        <tr class="bg-light">
                            <th class="h6 fw-bold">{% trans "Color" %}</th>
                            <th class="h6 fw-bold">{% trans "Explanation" %}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="width: 10px">
                                <div style="width:100%; height:20px;" class="bg-success"></div>
                            </td>
                            <td>
                                {% trans "All resources have accepted invitations" %}
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 10px">
                                <div style="width:100%; height:20px;" class="bg-warning"></div>
                            </td>
                            <td>
                                {% trans "There are resources that have not accepted invitations" %}
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 10px">
                                <div style="width:100%; height:20px;" class="bg-danger"></div>
                            </td>
                            <td>
                                {% trans "There are resource(s) that have denied invitations" %}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-light" data-mdb-dismiss="modal">
                <i class="fa fa-times"></i>&nbsp; {% trans "Close" %}
            </button>
            </div>
        </div>
    </div>
</div>

    <!-- Modal -->
<div
    class="modal fade"
    id="iconLegendModal"
    tabindex="-1"
    aria-labelledby="iconLegendModal"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">
                <i class="fa fa-info-circle"></i>
                {% trans "Icon Legend" %}
            </h5>
            <button
                type="button"
                class="btn-close"
                data-mdb-dismiss="modal"
                aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <table class="table table-sm table-bordered">
                    <thead>
                        <tr class="bg-light">
                            <th class="h6 fw-bold">{% trans "Icon" %}</th>
                            <th class="h6 fw-bold">{% trans "Explanation" %}</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="width: 10px;" class="text-center">
                                <i class="fa fa-check text-success fw-bold"></i>
                            </td>
                            <td>
                                {% trans "Based on the system rules this event is configured fully" %}
                            </td>
                        </tr>
                        <tr>
                            <td style="width: 10px;" class="text-center">
                                <i class="fa fa-exclamation-triangle text-warning fw-bold"></i>
                            </td>
                            <td>
                                {% trans "An alert has been triggered on this event. You should check the notification" %}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-light" data-mdb-dismiss="modal">
                <i class="fa fa-times"></i>&nbsp; {% trans "Close" %}
            </button>
            </div>
        </div>
    </div>
</div>

    <script>


    // DOM element where the Timeline will be attached
    var container = document.getElementById('visualization');

    // Create a DataSet (allows two way data-binding)
    var items = new vis.DataSet([
    {id: 1, content: 'Event A', className:"bg-info text-white", start: '2022-04-20'},
    {id: 2, content: 'Event B', className:"bg-danger text-white", start: '2022-04-14'},
    {id: 3, content: 'Event C', start: '2022-04-18'},
    {id: 4, content: 'Event D', start: '2022-04-16', end: '2022-04-19'},
    {id: 5, content: 'Event E', start: '2022-04-25'},
    {id: 6, content: 'Event F', start: '2022-04-27'}
    ]);

    // Configuration for the Timeline
    var options = {};

    // Create a Timeline
    var timeline = new vis.Timeline(container, items, options);

    document.addEventListener('DOMContentLoaded', function() {
        var calendarEl = document.getElementById('arrangement_calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'resourceTimelineMonth',
            height: 600,
            navLinks:true,
        });

        calendar.render();
    });
    </script>
>>>>>>> development
{% endblock %}