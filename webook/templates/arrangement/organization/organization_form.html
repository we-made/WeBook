{% extends "arrangement/meta_base.html" %}
{% load static i18n %}
{% load crispy_forms_tags %}


{% block content %}
    <form method="post">
        {% csrf_token %}
        
        <div class="form-group">
            <label for="{{ form.organization_number.id_for_label }}" class="h5 d-block">
                {{ form.organization_number.label }}
            </label>

            <input type="number" class="form-control form-control-lg" 
                id="{{ form.organization_number.id_for_label }}" 
                value="{{ form.organization_number.value|default:'' }}"
                name="{{ form.organization_number.name }}"
                placeholder="{% trans 'Organization number' %}..."/>

            {% if form.organization_number.errors|length > 0 %}
                <div class="alert alert-danger">
                    {{ form.organization_number.errors }}
                </div>
            {% endif %}
        </div>

        <div class="form-group mt-3">
            <label for="{{ form.name.id_for_label }}" class="h5 d-block">
                {{ form.name.label }}
            </label>

            <input type="text" class="form-control form-control-lg" 
                id="{{ form.name.id_for_label }}" 
                value="{{ form.name.value|default:'' }}"
                name="{{ form.name.name }}"
                placeholder="{% trans 'Name' %}..."/>

            {% if form.name.errors|length > 0 %}
                <div class="alert alert-danger">
                    {{ form.name.errors }}
                </div>
            {% endif %}
        </div>

        <div class="form-group mt-3">
            <label for="{{ form.organization_type.id_for_label }}" class="h5 d-block">
                {{ form.organization_type.label }}
            </label>

            {{ form.organization_type }}
            
            {% if form.organization_type.errors|length > 0 %}
                <div class="alert alert-danger">
                    {{ form.organization_type.errors }}
                </div>
            {% endif %}
        </div>
        
        <div class="mt-3">
            <a class="btn wb-btn-secondary me-3" onClick="window.history.back(); return false;">
                <i class="fas fa-times"></i>&nbsp; 
                {% trans "Cancel" %}
            </a>
            
            <div class="float-end">
                {% if not form.instance.id %}
                <button type="submit" class="btn wb-btn-main" value="submitAndNew" name="submitAndNew"
                    data-mdb-toggle="tooltip" title="{% trans 'Save and then create a new audience' %}">
                    {% trans "Save, and new" %}
                </button>
                {% endif %}
    
                <button type="submit" class="btn wb-btn-main" value="submit" name="submit"
                    data-mdb-toggle="tooltip" title="{% trans 'Create a new audience based on your input' %}">
                    {% trans "Save" %}
                </button>
            </div>
        </div>
    </form>
{% endblock %}